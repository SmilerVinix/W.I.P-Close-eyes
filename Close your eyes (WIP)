--[[
This was made by Iddo n me on discord
----------------------------------------------------------
]]

local player = game.Players.LocalPlayer
repeat wait() until player.Character
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local StarterGui = game:GetService("StarterGui")

local NotificationBindable = Instance.new("BindableFunction")

NotificationBindable.OnInvoke = function(buttonClicked)
    if buttonClicked == "Enjoy" then
        print("User acknowledged the notification.")
        
        -- Show the badge notification first
        StarterGui:SetCore("SendNotification", {
            Title = "Cover yours 2025",
            Text = "Not patched.",
            Duration = 5, -- How long the notification stays on screen
            Button1Text = "OK", -- Button text
        })
    end
end

-- Send the first notification with "Enjoy" button
StarterGui:SetCore("SendNotification", {
    Title = "Cover yours 2025",
    Text = "Thank you for using my script!",
    Duration = 5, -- How long the notification stays on screen
    Button1Text = "Enjoy", -- Button text
    Callback = NotificationBindable -- Function for button interaction
})

-- Now after the player clicks "OK" on the badge notification, the script will run
NotificationBindable.OnInvoke = function(buttonClicked)
    if buttonClicked == "OK" then
        print("Player clicked OK, running the external script.")
        
        -- Run the external script after the player acknowledges the badge
        local success, err = pcall(function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/SmilerVinix/W.I.P-Close-eyes/refs/heads/main/Close%20your%20eyes%20(WIP)"))()
        end)
        
        if not success then
            warn("Failed to execute script: " .. tostring(err))
        end
    end
end
